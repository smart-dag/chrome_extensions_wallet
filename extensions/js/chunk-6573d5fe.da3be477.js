(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6573d5fe"],{"29be":function(e,t,a){},"7d56":function(e,t,a){"use strict";var n=a("29be"),o=a.n(n);o.a},"9db0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"send"},[e.notenoughbalance?a("van-notice-bar",{attrs:{color:"#1989fa",background:"#ecf9ff","left-icon":"info-o"}},[e._v("余额不足，无法支付!，当前余额 "+e._s(e.balance)+" SDG")]):e._e(),a("van-cell-group",[a("van-field",{attrs:{label:"付款地址",disabled:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),a("van-field",{attrs:{label:"收款地址",placeholder:"输入收款地址"},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}}),a("van-field",{attrs:{label:"付款金额",type:"number",placeholder:"输入付款金额"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}}),a("van-field",{attrs:{label:"备注信息",placeholder:"输入备注信息"},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1),a("van-submit-bar",{attrs:{"button-text":"付款",disabled:!e.checked},on:{submit:e.pay}},[a("van-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("勾选代表后果自己承担！")])],1)],1)},o=[],s=(a("6b54"),a("b970")),c=a("381a"),l=a("536a"),i=l.default,r={name:"send",components:{},methods:{pay:function(){var e=this;console.log("paying..."),this.wallet.send({amount:parseInt(this.amount),to:this.to,text:this.text}).then(function(t){console.log(t),e.$router.push({path:"/success",name:"success",params:{hash:t.hash}})}).catch(function(e){console.log(e),s["a"].alert({title:"错误",message:e}).then(function(){})})}},watch:{amount:function(e,t){e>=this.balance?(console.log(e),this.notenoughbalance=!0):this.notenoughbalance=!1},balance:function(e,t){e>this.amount?this.notenoughbalance=!1:this.notenoughbalance=!0}},data:function(){return{notenoughbalance:!1,checked:!1,address:"",balance:"",to:"",amount:"",text:"",wallet:null}},created:function(){var e=this,t=this;this.to=this.$route.params.address,this.amount=this.$route.params.amount,this.text=this.$route.params.text;var a=c(32),n=new i({peerId:a});console.log(a);var o=localStorage.getItem("mnemonic");o||(o=n.generateMnemonic().toString(),localStorage.setItem("mnemonic",o)),n.configHub("wss://explorer.sdag.io:20003"),n.loginWithMnemonic(o).then(function(){var a=n.getAddress().toString();e.address=a,n.getBalance().then(function(e){var a=e/1e6;t.balance=a,t.wallet=n})})}},u=r,d=(a("7d56"),a("2877")),h=Object(d["a"])(u,n,o,!1,null,"0bf73152",null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-6573d5fe.da3be477.js.map